<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>H.y's Blog</title>
	<meta name="description" content="">
	<meta name="author" content="hyhx2008">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="./theme/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="./theme/bootstrap.min.css" rel="stylesheet">
	<link href="./theme/local.css" rel="stylesheet">
	<link href="./theme/pygments.css" rel="stylesheet">
	
<script>var _gaq=[['_setAccount','UA-36075477-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

	
<script type="text/javascript">
	var disqus_identifier = "shi-yong-pelicansheng-cheng-githubbo-ke.html";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://hysblog.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>

		
	<link rel="shortcut icon" href="./theme/images/icons/icon1.png">
</head>
<body>
	
	
<a href="https://github.com/hyhx2008"><img style="position: absolute; top: 39px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>

	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="./index.html">H.y's Blog</a>
			<ul class="nav">
				
				
					
				
				
					<li ><a href="./category/intern.html">intern</a></li>
				
					<li ><a href="./category/my.html">my</a></li>
				
					<li class="active"><a href="./category/tech.html">tech</a></li>
				
			</ul>
			<p class="pull-right"><a href="./archives.html">[archives]</a> <a href="./tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">	
	  <div class="span5 sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				
				<li><a href="http://x-wei.github.com">x-wei</a></li>
				
				<li><a href="http://farseerfc.github.com/">farseerfc</a></li>
				
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				
				<li><a href="https://github.com/hyhx2008">github</a></li>
				
			</ul>
			</div>
			
		</div>
		
		<div class="well">
			<div class="search_sidebar">
				
<li class="nav-header"><h4><i class="icon-search"></i>Google Search</h4></li>
<!-- Put the following javascript before the closing </head> tag. -->
<script>
  (function() {
    var cx = '007947589229995882978:padodsakamc';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
<!-- Place this tag where you want both of the search box and the search results to render -->
<gcse:search></gcse:search>

			</div>

			<div class="google_ads">
				
<li class="nav-header"><h4><i class="icon-search"></i>Google Ads</h4></li>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5617943900713834";
/* HY&#39;s github blog */
google_ad_slot = "7280262031";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

			</div>
		</div>

	  </div>
	  <div class="content">
			
			
	<div class='article'>
		<div class="page-header"><h1>使用pelican生成github博客</h1></div>
		<div class="well small">Permalink: <a class="more" href="./shi-yong-pelicansheng-cheng-githubbo-ke.html">2012-11-11 22:20:00</a>
by <a class="url fn" href="./author/hyhx2008.html">hyhx2008</a>
in <a href="./category/tech.html">tech</a>
tags: <a href="./tag/GitHub.html">GitHub</a> <a href="./tag/pelican.html">pelican</a> </div>
		<div><p>自从马星给我推荐在github上写博客到现在已经好久了，今天我终于算是学会了。
我看人家都是用jekyll生成静态页面的，果然和专业到技术宅差得太多，自己尝试折腾了一天也没弄出什么名堂。
马星觉得自己很菜，我居然比马星还菜。。。。。
在马星的诱惑下，用了这个不知到他从哪找来的工具，说实话倒是挺好用的。</p>
<p>这里记录一下生成博客的步骤（以下内容大多copy自
<a class="reference external" href="http://x-wei.github.com/pelican_github_blog.html">马星的blog</a>
）。</p>
<p><strong>1.配置git</strong></p>
<p>注册github后首先要配置git。可以参考
<a class="reference external" href="https://help.github.com/articles/set-up-git#platform-linux">github:help:set up git</a>
。</p>
<p>设置用户名和邮箱，邮箱为注册github时的邮箱地址。</p>
<div class="highlight"><pre><span class="gp">$</span>git config --global user.name <span class="s2">&quot;hy&quot;</span>

<span class="gp">$</span>git config --global user.email <span class="s2">&quot;hyxxxxxx@163.com&quot;</span>
</pre></div>
<p>可以用下面的命令查看配置。</p>
<div class="highlight"><pre><span class="gp">$</span>git config -l
</pre></div>
<p>github上说可以用https方法提交工程，但是没有成功过，所以还是需要利用ssh。这里需要生成ssh keys，
具体步骤参考
<a class="reference external" href="https://help.github.com/articles/generating-ssh-keys#platform-linux">github:help:generating ssh keys</a>
。</p>
<p>然后就可以进行git clone 和 git push等操作了。</p>
<p><strong>2.生成github page</strong></p>
<p>需要在github上新建一个仓库(repository)，这个仓库的名称必须为
<strong>your_id.github.com</strong>
。然后将一个index.html文件上传到master分支后，就可以访问域名your_id.github.com看到自己的主页了。</p>
<p><strong>3.安装和使用pelican</strong></p>
<p>pelican安装需要用到python-pip:</p>
<div class="highlight"><pre><span class="gp">$</span>sudo aptitude install python-pip
</pre></div>
<p>然后再用pip安装python:</p>
<div class="highlight"><pre><span class="gp">$</span>sudo pip install pelican
</pre></div>
<p>这样pelican就安装完成了。</p>
<p>pelican的使用也很简单, 需要在仓库根目录下新建一个配置文件settings.py, 内容大概如下所示:</p>
<div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">TIMEZONE</span> <span class="o">=</span> <span class="s">&#39;Asia/Tokyo&#39;</span>

<span class="n">DEFAULT_LANG</span> <span class="o">=</span> <span class="s">&#39;zhs&#39;</span>

<span class="n">SITENAME</span> <span class="o">=</span> <span class="s">&quot;H.y&#39;s Blog&quot;</span>
<span class="n">AUTHOR</span> <span class="o">=</span> <span class="s">&#39;hyhx2008&#39;</span>

<span class="n">DISQUS_SITENAME</span> <span class="o">=</span> <span class="s">&#39;hysblog&#39;</span>
<span class="n">GITHUB_URL</span> <span class="o">=</span> <span class="s">&#39;https://github.com/hyhx2008&#39;</span>
<span class="n">SITEURL</span> <span class="o">=</span> <span class="s">&#39;http://hyhx2008.github.com&#39;</span>
<span class="n">GOOGLE_ANALYTICS</span> <span class="o">=</span> <span class="s">&#39;UA-36075477-1&#39;</span>
<span class="c">#TAG_FEED_ATOM = &#39;feeds/%s.atom.xml&#39;</span>
<span class="n">TAG_CLOUD_STEPS</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">FEED_RSS</span> <span class="o">=</span> <span class="s">&#39;feeds/all.rss.xml&#39;</span>
<span class="c">#DEFAULT_ORPHANS=3</span>
<span class="n">DEFAULT_PAGINATION</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">DELETE_OUTPUT_DIRECTORY</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">DEFAULT_CATEGORY</span> <span class="o">=</span><span class="s">&#39;tech&#39;</span>
<span class="n">OUTPUT_PATH</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span>

<span class="n">PATH</span> <span class="o">=</span> <span class="s">&#39;posts&#39;</span>

<span class="n">THEME</span><span class="o">=</span><span class="s">&#39;./pelican-themes/bootstrap&#39;</span>


<span class="n">LINKS</span> <span class="o">=</span> <span class="p">((</span><span class="s">&#39;x-wei&#39;</span><span class="p">,</span> <span class="s">&#39;http://x-wei.github.com&#39;</span><span class="p">),</span>
         <span class="p">(</span><span class="s">&#39;farseerfc&#39;</span><span class="p">,</span> <span class="s">&quot;http://farseerfc.github.com/&quot;</span><span class="p">),</span>
                          <span class="p">)</span>

<span class="n">SOCIAL</span> <span class="o">=</span> <span class="p">(</span>
          <span class="p">(</span><span class="s">&#39;github&#39;</span><span class="p">,</span> <span class="s">&#39;https://github.com/hyhx2008&#39;</span><span class="p">),</span>
                            <span class="p">)</span>
</pre></div>
<p>各项的含义可以参见
<a class="reference external" href="https://pelican.readthedocs.org/en/2.8/settings.html">pelican:settings</a>
。</p>
<p>settings.py中有一项PAHT=`posts`, 指的是放置reST格式文件的目录，所以新建一个posts文件夹，然后将博客用
<a class="reference external" href="http://docutils.sourceforge.net/rst.html">reST</a>
格式写好之后放在posts文件夹下，即可用pelican生成静态页面了。在仓库根目录下用:</p>
<div class="highlight"><pre><span class="gp">$</span>pelican -s settings.py
</pre></div>
<p>然后就可以看到生成的index.html了。</p>
<p>pelican还可以使用现成的模版，主题可以在github上下载:</p>
<div class="highlight"><pre><span class="gp">$</span>git clone https://github.com/farseerfc/pelican-themes
</pre></div>
<p>settings.py中的THEME项用来指定要使用的主题模版。</p>
<p>如果和我一样觉得麻烦的话，可以在github上clone一个现成的博客修改学习，比如:</p>
<div class="highlight"><pre><span class="gp">$</span>git clone git@github.com:hyhx2008/hyhx2008.github.com.git
</pre></div>
<p><strong>4.将博客上传到github</strong></p>
<p>使用以下三条命令:</p>
<div class="highlight"><pre><span class="gp">$</span>git add .
<span class="gp">$</span>git commit -a -m <span class="s2">&quot;commit message&quot;</span>
<span class="gp">$</span>git push origin master
</pre></div>
<p>收到一封页面修改成功的邮件后，就可以到自己的主页 your_id.github.com 查看了。</p>
<p><strong>5.关于reST格式文件的编辑</strong></p>
<p>pelican支持markdown和reST两种格式，由于reST的语法高亮比较容易，马星推荐我使用这个格式。附上两个教程:
<a class="reference external" href="https://beinggeekbook.readthedocs.org/en/latest/rst.html">中文教程</a>
,
<a class="reference external" href="http://docutils.sourceforge.net/rst.html">官方英文教程</a>
。</p>
<p>在linux环境下可以使用具有实时预览功能的ReText编辑器编辑reST文件，但是后来发现vim中支持reST文件的语法高亮，写起来也挺方便的。</p>
<p>The End!</p>
</div>
		<div>
			<h2>Comments</h2>
		 	
			<div id="disqus_thread"></div>
			
		<div>
	</div>	

		<footer>
		  <p> Powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a>, theme based on <a href="http://twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
		  <p>&copy; hyhx2008 2011</p>
		</footer>
	  </div>
   
	</div>
</body>
</html>